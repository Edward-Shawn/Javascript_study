<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 대표적 비동기함수 setTimeout, setInterval

      // setTimeout 설정한 시간 뒤에 호출 > 그리고 종료됨 (한번만 실행됨)
      const timeoutId = setTimeout(
        (name, age, city) => {
          console.log(name, age, city);
          console.log("1초 뒤에 출력됨");
        },
        1000, //setTimeout의 호출 시간설정 외에
        "coding", // 이렇게 필요한 인자값을 전달해서 호출하는것도 가능함
        30,
        "서울"
      );
      // setTimeout은 반환값이 있음 설정한 시간값을 기다리고 취소할 수 있는 id를 반환 해줌

      clearTimeout(timeoutId); // setTimeout에 대한 내용을 취소할 수 있음

      // setInterval 설정한 시간마다 반복 호출
      // 이것은 종료시키는 동작이 없으면 계속 반복하기 때문에

      const intervald = setInterval(() => {
        console.log("hey");
      }, 1000);

      //종료하는 코드도 같이 작성을 해야함
      clearInterval(intervald);
      //   setTimeout(() => {
      //     clearInterval(intervald);
      //   }, 3000);

      console.log("1");
      setTimeout(() => {
        // 딜레이 없이 코드를 실행해도 setTimeout은 실행되고나서 qeue를 타는 과정이 있기때문에
        // qeue를 타는 동안 다음 코드가 실행이 됨
        console.log("2");
      }, 0);
      console.log("3");
      // 결과값 1, 3, 2(setTimeout)

      // setTimeout은 실행 시간을 늦춰도 다른 코드보다 나중에 실행된다
      // 콜스텍에서 실행이되고 바로 반환을 하는데 주어진 딜레이만큼 어느 thread에서 기다리고 있다가 딜레이가 지나면
      // macrotask queue에 콜백함수가 등록이 됨
      // main thread에 콜스텍이 제거가되고 실행할 것이 없으면 이벤트 루프에서 큐에 어떤 실행해야하는
      // 작업이 있는지 확인함 큐에 남아있는것이 setTimeout임 그리고 그것을 main thread에 추가를 하고 실행함
    </script>
  </body>
</html>
